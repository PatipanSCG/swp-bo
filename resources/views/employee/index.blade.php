@extends('layouts.admin')

@section('main-content')
<h1 class="h3 mb-4 text-gray-800">üìã ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h1>

@if (session('success'))
<div class="alert alert-success border-left-success alert-dismissible fade show" role="alert">
    {{ session('success') }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
@endif

<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h6>
    </div>
    <div class="card-body">
        <div class="table-responsive">
            <table id="employeeTable"  width="100%"class="table table-bordered">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</th>
                        <th>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</th>
                        <th>‡∏ä‡∏∑‡πà‡∏≠ (TH)</th>
                        <th>‡∏ä‡∏∑‡πà‡∏≠ (EN)</th>
                        <th>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</th>
                        <th>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</th>
                        <th>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</th>
                        <th>‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</th>
                        <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
    </div>
</div>
@endsection

@section('scripts')
<!-- DataTables -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

<script>
    $(document).ready(function() {
        $('#employeeTable').DataTable({
            ajax: '{{env('APP_URL')}}employees/data',
            columns: [{
                    data: null,
                    render: function(data, type, row, meta) {
                        return meta.row + 1;
                    }
                },
                {
                    data: 'EmpCode'
                },
                {
                    data: 'NickName'
                },
                {
                    data: 'NameTH'
                },
                {
                    data: 'NameEN'
                },
                {
                    data: 'Email'
                },
                {
                    data: 'Position'
                },
                {
                    data: 'InternalPhone'
                },
                {
                    data: 'Mobile'
                },

                {
                    data: null,
                    render: function(data, type, row, meta) {
                        return '<a href="/employees/' + row.EmpCode + '/edit" class="btn btn-info btn-sm">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</a>';
                    }
                }
            ],
            language: {
                search: "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:",
                lengthMenu: "‡πÅ‡∏™‡∏î‡∏á _MENU_ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤",
                zeroRecords: "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•",
                info: "‡πÅ‡∏™‡∏î‡∏á _START_ ‡∏ñ‡∏∂‡∏á _END_ ‡∏à‡∏≤‡∏Å _TOTAL_ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£",
                infoEmpty: "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•",
                infoFiltered: "(‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î _MAX_ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)",
                paginate: {
                    first: "‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å",
                    last: "‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢",
                    next: "‡∏ñ‡∏±‡∏î‡πÑ‡∏õ",
                    previous: "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö"
                }
            }
        });
    });
</script>
@endsection